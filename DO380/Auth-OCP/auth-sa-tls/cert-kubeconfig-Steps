oc adm groups new backdoor-administrators
oc adm policy add-cluster-role-to-group cluster-admin backdoor-administrators
mkdir admin-cert
openssl req -newkey rsa:4096 -nodes -keyout tls.key -subj "/O=backdoor-administrators/CN=admin-backdoor" -out admin-cert/admin-backdoor-auth.csr
Open new terminal and run cat admin-backdoor-auth.csr | base64 -w0
Append the output to csr request file under request key
<CREATE CERT SIGNING REQUEST FILE>
oc create -f 
oc get csr
oc adm certificate approve <csr>
oc get csr admin-backdoor-access -o jsonpath='{.status.certificate}' | base64 -d > admin-cert/admin-backdoor-access.crt
oc config set-credentials admin-backdoor --client-certificate admin-cert/admin-backdoor-access.crt --client-key tls.key --embed-certs --kubeconfig admin-cert/admin-backdoor.config
openssl s_client -showcerts -connect api.ocp4.example.com:6443 </dev/null 2>/dev/null|openssl x509 -outform PEM > ocp-apiserver-cert.crt
oc config set-cluster $(oc config view -o jsonpath='{.clusters[0].name}') --certificate-authority ocp-apiserver-cert.crt --embed-certs=true --server https://api.ocp4.example.com:6443 --kubeconfig admin-cert/admin-backdoor.config
oc config set-context admin-backdoor --cluster $(oc config view -o jsonpath='{.clusters[0].name}') --namespace default --user admin-backdoor --kubeconfig admin-cert/admin-backdoor.config
oc config use-context admin-backdoor --kubeconfig admin-cert/admin-backdoor.config
oc whoami --kubeconfig admin-cert/admin-backdoor.config


SAMPLE FILE

apiVersion: certificates.k8s.io/v1
kind: CertificateSigningRequest
metadata:
  name: admin-backdoor-access
spec:
  signerName: kubernetes.io/kube-apiserver-client
  expirationSeconds: 31536000 # one year
  request: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURSBSRVFVRVNULS0tLS0KTUlJRWdEQ0NBbWdDQVFBd096RWdNQjRHQTFVRUNnd1hZbUZqYTJSdmIzSXRZV1J0YVc1cGMzUnlZWFJ2Y25NeApGekFWQmdOVkJBTU1EbUZrYldsdUxXSmhZMnRrYjI5eU1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBCk1JSUNDZ0tDQWdFQTNsaExhLysyODMzMUtXc3p0YlQxcnk0bVJCQms4Y1U4amhBTFRYWkk1SDMvUkN4eHBJbjEKMGx1WEJNeW1GcXFNTllTbmo2TWZHTlNqS3o1QmlwVmFLdG54UENIM0xvdDI4SWcwRGo2aTNvVDNsSG43d2FaWQo1NE1IcWFjWXR3TncyL0hZVGpHNkRZNGZjcGU1TVh6SU9ETVd5SmJqaVlLSTlzemt4dEhtRTlLODdYSHRjMVhQCnBNSnFoNFN3d3NnUWUvNmYwQ21scWQwZnoySTRjalBWWEpDSTZqY0dMeUQvUHg0aTZIZ1BnOVFTeXozbzY2Z2oKWUptY0xpcFpDT3FveUFRSFI0MGdBMWRwclJiSWF1Q3ZEcTZDamMxNkFBY2MzeUxqenVZMzRuN0EyN2RFaVN3agpWQy9qTTQzdHM3NnMrZFhKYU5vUEt1eHBEekxURFVTMCtnaDZzWmNKN0ZOYnhsZWpHS2lRVHliZkxjWjFJVDFNClZOdlN3Z09Cc01SblFyN21EbkxGeTZGMXNXdDM3Q01nVzQvVE1XczgwcjVwTDR5ZWhDeWliYW54YjM3a0xVR3gKMzlsRVF6REJ1YkpkYVVZQ1Z2REJlMTlsMmxqeE81bktiN084UUpQNEtWNTlrK2p3R0xFYnQ3cjVpNUEzQm8zUQpmQW02aFJBOVJMQVFnc2JMc1pvNUlzUkdzSXVyNWtvL09LaFhqNWlrTk95ZjNObGpqaWdZdUNsaDhodzY1a1p2CmMwYWZnTGpUSVZWK3ZFMXdHNW4wMlkzL1RkTHkyOEprMUxuTVp3QUVLTWdsbFE2RUhlN0pHVzh6dlljb2ZHNlIKVnA2REMza2JvUkVoMmEyOTY4NnR0N0tsaVJJSzlva0pIQnRRU0RGWUp6NW1tY3lzOGRJK0RWVUNBd0VBQWFBQQpNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUNBUUJMRVRkemdDZ1dHMVkxakMzQmtlSDBOMzl5VUZqTEJINGFjM1Z6CjhjWnEvYTlFVk9MWEltNlBRanZ1bm9ZeFROSFBCZlNmTzB0YW8vb0txL1k5bkQ0NkFDWHdPUlR2bVg2ejgzVFUKTWJUQWhUYVBNSG9WVHlhaEZEZDZuQnRxUHpOdldEVVRvK0M4WU53aDh6bGlPcXhVT3pxYlZwT3pNS0VMb1ZEOApRbVJVS2dVYWZKNlcwQnJlTXowdzNKV3kzc2o5eU5na3h2KzVDOTgxUTNoUGt0a2wrdGhWZDJCNndmT2x2N0Z4CnNBK2V5QWp5dGpPQXpFdzFSWEUxc1BTaWpOUDdFdUFVS3BpNjhsSUhqTHZWaEJiUFk2bDJoR0trMXp3OWorSDEKZFhRaDZXSEF2a2dDRnRTeHpOS1R1MDEwWDBVYnFqK0VUZi80WTh2amlKYXFicFJQRldLVmpEclloWU81K0Vwcgp3SXJNZFhaa2dtWnFZRzdCS3BRMklBSFJiL3U2c21XSERpNkxSWFp2QVNlU1BOUW43OUgrMmwrRysrOGUvN1NDCjZuMTZ3b1NnUzgybnIxZ2U5OUhERjI5V0g3U1dlSVBvc3pRUkcyeXhnMENvaWlGRWNRRDRLKy9uOHBCZzN6cVcKdTV4TUQxbGNTRUg1ZHNaTWFrRDVONFFZOEh6ZWZZRnBnTGlvVGlaRGtlYTZVb2xqeW5aYnNTUDkwSkFjamk3LwpDbGdaQ2xoVTM3cjM5STRHNk1NWUttTmtsRmIrS1BZRjZ3UnZaMVNoamUxMWVlQ2NucUtvcDk4RitxaFpvbHNrCjU3N3B4L29pRTJia3hNUjVrWCtQd3B3d3JmZFgycEMyaStuY0NVMUJUWkswZmM5cnVXNU1TNmduQWI0Q3FUL1IKVjZZUSt3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUgUkVRVUVTVC0tLS0tCg==
  usages:
    - client auth


NICE REF: https://examples.openshift.pub/cluster-configuration/authentication/client-certificate/#__tabbed_2_2
